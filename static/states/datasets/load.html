<form class="form-group" ng-controller="DatasetLoaderController">
    <div id="primary-input" class="form-group">
        <h2>Archive URL: </h2>
        <input class="form-control" type="url" ng-model="state.datasetUrl"><br/>
        <p>
            <input class="btn btn-primary" type="submit" value="Fetch" ng-click="fetch()" ng-if="!state.loading">
            <loading ng-if="state.loading"></loading>
        </p>
        <div ng-if="state.harvestResponse">
            <h2>Detected Bundle:</h2>
            <div ng-if="state.harvestResponse.bundle">
                <ul><li>
                <div><strong>Title:</strong> {{state.harvestResponse.bundle.name}}</div>
                <div><strong>LIDVID:</strong> {{state.harvestResponse.bundle.lidvid}}</div>
                <div><strong>URL:</strong> {{state.harvestResponse.bundle.browseUrl}}</div>
                </li></ul>
            </div>
            <h2>Detected Collections:</h2>
            <ul>
                <li ng-repeat="dataset in state.harvestResponse.collections">
                    <div><strong>Title:</strong> {{dataset.name}}</div>
                    <div><strong>LIDVID:</strong> {{dataset.lidvid}}</div>
                    <div><strong>URL:</strong> {{dataset.browseUrl}}</div>
                </li>
            </ul>
            <h3>Ingest preview:</h3>
            <code style="display:block; width:100%; height:200px; overflow-y:auto; background-color: #EFEFEF; padding: 6px;" ng-if="state.harvestResponse.harvestOutput">{{state.harvestResponse.harvestOutput}}</code>
            <h3></h3>
            <p>
                <input class="btn btn-primary" type="submit" value="Load and Continue" ng-click="confirm()" ng-if="!state.loading">
                <loading ng-if="state.loading"></loading>
            </p>
        </div>
    </div>
</form>